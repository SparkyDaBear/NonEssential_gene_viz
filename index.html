
    <!DOCTYPE html>
    <html>
    <head>
        <title>PDB Viewer</title>
        <script src="https://cdn.jsdelivr.net/npm/ngl@2.0.0-dev.39/dist/ngl.js"></script>
        <style>
            body { font-family: Arial, sans-serif; }
            #viewport { width: 100%; height: 600px; }
            #controls { margin-top: 20px; }
        </style>
    </head>
    <body>
        <h1>PDB Viewer</h1>
        <div id="viewport"></div>
        <div id="controls">
            <label for="pdbSelect">Select PDB File:</label>
            <select id="pdbSelect"></select>
            <label for="residueSelect">Select Residue Pair to Highlight:</label>
            <select id="residueSelect"></select>
        </div>
        <script>
            const pdbData = {"PDBs/P00370_4BHT_F.pdb": [[24, 108], [24, 111], [84, 111], [115, 434]], "PDBs/P00448_1D5N_B.pdb": [[18, 184], [84, 184]], "PDBs/P00634_1Y6V_B.pdb": [[85, 416], [85, 435], [155, 320]], "PDBs/P00722_6DRV_B.pdb": [[23, 162], [23, 164], [619, 904], [786, 965]], "PDBs/P00909_1PII_A.pdb": [[28, 121], [28, 124]], "PDBs/P00968_1BXR_C.pdb": [[53, 580], [364, 900], [367, 897], [367, 900], [540, 610], [578, 642]], "PDBs/P02920_2CFQ_A.pdb": [[29, 261], [30, 91], [30, 95], [45, 242], [87, 170], [91, 170], [246, 378], [246, 382]], "PDBs/P02925_2DRI_A.pdb": [[145, 187]], "PDBs/P02930_1TQQ_A.pdb": [[97, 225]], "PDBs/P04079_1GPM_C.pdb": [[243, 334]], "PDBs/P05458_1Q2L_A.pdb": [[198, 470], [205, 470]], "PDBs/P05793_3ULK_A.pdb": [[300, 424], [312, 419], [334, 422], [334, 426]], "PDBs/P05804_3K46_A.pdb": [[164, 331]], "PDBs/P06988_1KAE_B.pdb": [[248, 331]], "PDBs/P06992_1QYR_A.pdb": [[19, 181]], "PDBs/P07003_3EY9_B.pdb": [[256, 339], [281, 549], [369, 515]], "PDBs/P07012_1GQE_A.pdb": [[180, 223], [180, 290]], "PDBs/P07024_1HPU_A.pdb": [[380, 460], [383, 462]], "PDBs/P07649_1DJ0_A.pdb": [[66, 246]], "PDBs/P07762_5E6Z_A.pdb": [[208, 306]], "PDBs/P08178_1CLI_B.pdb": [[1118, 1154]], "PDBs/P08191_4XO9_A.pdb": [[237, 279]], "PDBs/P08202_2AJT_B.pdb": [[202, 403]], "PDBs/P08203_1JDI_A.pdb": [[122, 219]], "PDBs/P08839_2HWG_B.pdb": [[187, 474]], "PDBs/P08997_3CUZ_A.pdb": [[32, 231], [32, 236], [40, 231], [66, 256]], "PDBs/P09030_1AKO_A.pdb": [[220, 248]], "PDBs/P09373_1H16_A.pdb": [[14, 286], [28, 282], [28, 286]], "PDBs/P09546_1TJ1_A.pdb": [[280, 521]], "PDBs/P0A6B4_4WR3_A.pdb": [[45, 215]], "PDBs/P0A6B7_1P3W_B.pdb": [[13, 208], [202, 256]], "PDBs/P0A6D3_1G6S_A.pdb": [[42, 237]], "PDBs/P0A6E4_1K92_A.pdb": [[2, 140], [92, 277], [93, 277], [97, 277]], "PDBs/P0A6T1_3NBU_B.pdb": [[31, 433], [345, 489], [349, 489]], "PDBs/P0A6W9_2D32_A.pdb": [[58, 119], [59, 119]], "PDBs/P0A6Z3_1Y4S_B.pdb": [[123, 257]], "PDBs/P0A744_1FF3_A.pdb": [[68, 188], [73, 139], [77, 180]], "PDBs/P0A763_2HUR_C.pdb": [[7, 50], [50, 131], [50, 132]], "PDBs/P0A776_6VCR_A.pdb": [[35, 144]], "PDBs/P0A786_4FYY_A.pdb": [[168, 226]], "PDBs/P0A7E1_1F76_A.pdb": [[79, 321]], "PDBs/P0A825_1DFO_B.pdb": [[230, 288]], "PDBs/P0A853_2C44_C.pdb": [[161, 353], [399, 454]], "PDBs/P0A855_2HQS_A.pdb": [[69, 154]], "PDBs/P0A862_3HVS_A.pdb": [[68, 159]], "PDBs/P0A8I5_3DXX_A.pdb": [[142, 219]], "PDBs/P0A8I8_5TWK_D.pdb": [[27, 141]], "PDBs/P0A993_2QVR_A.pdb": [[223, 325]], "PDBs/P0A998_4XGS_C.pdb": [[42, 87], [42, 134]], "PDBs/P0A9M2_5KNX_B.pdb": [[52, 160]], "PDBs/P0AA25_6LUR_D.pdb": [[513, 544], [513, 549]], "PDBs/P0AA39_1XPI_A.pdb": [[228, 266]], "PDBs/P0AB77_1FC4_B.pdb": [[22, 356], [47, 351]], "PDBs/P0AB80_1IYE_A.pdb": [[36, 164], [51, 292]], "PDBs/P0ABP8_3ONV_C.pdb": [[125, 186]], "PDBs/P0ABS5_3B39_A.pdb": [[206, 267], [218, 267]], "PDBs/P0ABT2_1F33_F.pdb": [[69, 125], [69, 158], [69, 161]], "PDBs/P0AC41_2WDQ_A.pdb": [[54, 122], [241, 471]], "PDBs/P0AC69_2WCI_A.pdb": [[32, 71]], "PDBs/P0ACD8_6FPW_L.pdb": [[182, 203]], "PDBs/P0ACI0_1D5Y_A.pdb": [[136, 179]], "PDBs/P0ACJ8_1I5Z_B.pdb": [[14, 41], [14, 69]], "PDBs/P0ACP1_2IKS_A.pdb": [[201, 243]], "PDBs/P0ACP7_1QPZ_A.pdb": [[200, 244]], "PDBs/P0ADI4_2FQ1_A.pdb": [[42, 152], [45, 152]], "PDBs/P0ADR6_4ATN_A.pdb": [[71, 151], [119, 152], [123, 152]], "PDBs/P0AE01_4XBO_A.pdb": [[27, 150]], "PDBs/P0AE08_5B8A_H.pdb": [[21, 77]], "PDBs/P0AEB2_6NTZ_A.pdb": [[119, 219]], "PDBs/P0AEG4_1A2J_A.pdb": [[36, 178]], "PDBs/P0AEP7_2PAN_B.pdb": [[226, 275], [259, 397], [383, 535]], "PDBs/P0AEQ3_1WDN_A.pdb": [[16, 86], [18, 163], [27, 85]], "PDBs/P0AES2_4GYP_A.pdb": [[36, 344], [160, 430]], "PDBs/P0AET8_1FMC_B.pdb": [[30, 222]], "PDBs/P0AEU0_1HSL_A.pdb": [[13, 143], [17, 88], [17, 231], [29, 88], [29, 223], [29, 230], [29, 231], [125, 159], [159, 191]], "PDBs/P0AEW6_6VWO_A.pdb": [[316, 337]], "PDBs/P0AEX9_1ANF_A.pdb": [[27, 279], [27, 283], [169, 339], [258, 339]], "PDBs/P0AEY8_4ZP0_A.pdb": [[92, 177], [108, 174]], "PDBs/P0AF12_4WKC_A.pdb": [[119, 189], [151, 207]], "PDBs/P0AFG3_2JGD_A.pdb": [[603, 758], [622, 685], [753, 826]], "PDBs/P0AFG8_2G25_B.pdb": [[124, 370], [124, 373], [227, 373], [469, 678], [494, 662], [525, 599], [526, 598], [526, 599]], "PDBs/P0AFI7_1JNW_A.pdb": [[83, 146]], "PDBs/P0AFK0_5NJB_B.pdb": [[44, 167]], "PDBs/P0AFK9_1POY_2.pdb": [[31, 129], [166, 341], [173, 337], [173, 340], [173, 341], [186, 337], [209, 341]], "PDBs/P0AFL3_1V9T_A.pdb": [[32, 103], [46, 103], [53, 112], [103, 125]], "PDBs/P0AFL6_1U6Z_B.pdb": [[177, 255]], "PDBs/P0AG16_1ECF_B.pdb": [[42, 89]], "PDBs/P0AG82_1IXH_A.pdb": [[10, 198], [11, 198], [141, 193], [145, 193]], "PDBs/P0AGJ7_4JAL_A.pdb": [[66, 96], [76, 96]], "PDBs/P0C0U4_4IWX_A.pdb": [[67, 147]], "PDBs/P0CB39_6A83_A.pdb": [[247, 458], [278, 491], [283, 487], [298, 532], [469, 570], [488, 565], [488, 577]], "PDBs/P11454_5JA2_A.pdb": [[144, 354], [146, 356], [1081, 1137]], "PDBs/P12995_1QJ5_B.pdb": [[251, 403]], "PDBs/P13009_3BUL_A.pdb": [[914, 1046]], "PDBs/P13035_2QCU_A.pdb": [[87, 257], [125, 246]], "PDBs/P13036_1KMO_A.pdb": [[161, 203]], "PDBs/P16456_3U0O_B.pdb": [[231, 281]], "PDBs/P16687_4XB6_G.pdb": [[96, 273]], "PDBs/P17109_5EJ8_B.pdb": [[35, 175]], "PDBs/P17117_1F5V_A.pdb": [[140, 231], [140, 235]], "PDBs/P19624_1PS6_B.pdb": [[4, 66]], "PDBs/P21165_4QR8_A.pdb": [[99, 165]], "PDBs/P22259_1OS1_A.pdb": [[81, 221], [82, 221], [247, 359]], "PDBs/P23003_3BT7_A.pdb": [[224, 297]], "PDBs/P23256_1D2F_B.pdb": [[235, 281]], "PDBs/P23721_1BJO_A.pdb": [[153, 339]], "PDBs/P23827_1ECY_A.pdb": [[74, 118]], "PDBs/P23843_3TCH_A.pdb": [[298, 343], [344, 510]], "PDBs/P23869_1LOP_A.pdb": [[4, 98], [27, 98], [41, 98], [48, 107], [98, 123]], "PDBs/P23909_1NG9_A.pdb": [[568, 639], [572, 635]], "PDBs/P24183_1KQF_A.pdb": [[173, 555], [200, 408], [207, 828], [208, 779], [208, 825], [214, 779], [316, 836], [316, 846], [318, 850], [323, 846], [323, 850], [504, 723], [563, 1005], [946, 986]], "PDBs/P25553_2HG2_A.pdb": [[169, 469]], "PDBs/P26648_2UXV_A.pdb": [[423, 451]], "PDBs/P27248_3A8J_A.pdb": [[103, 182]], "PDBs/P27302_6TJ8_B.pdb": [[137, 314], [137, 325], [388, 430]], "PDBs/P27431_4CCL_B.pdb": [[12, 132], [12, 180], [100, 132]], "PDBs/P27833_4ZAH_A.pdb": [[44, 175]], "PDBs/P28306_2R1F_B.pdb": [[232, 306]], "PDBs/P28629_2VYC_A.pdb": [[576, 639]], "PDBs/P30177_4MUO_A.pdb": [[74, 145], [98, 233]], "PDBs/P30871_5A61_A.pdb": [[120, 196]], "PDBs/P31057_1M3U_I.pdb": [[33, 219]], "PDBs/P31133_1A99_A.pdb": [[201, 351]], "PDBs/P31142_1URH_A.pdb": [[74, 144], [110, 144], [110, 148]], "PDBs/P31224_4DX5_A.pdb": [[136, 178], [136, 615], [178, 610], [178, 615], [178, 628], [199, 790], [246, 762], [281, 610], [459, 877], [470, 926], [617, 666]], "PDBs/P31550_2QRY_A.pdb": [[30, 120]], "PDBs/P31658_1ONS_A.pdb": [[68, 221]], "PDBs/P32131_1OLT_A.pdb": [[32, 336], [68, 242]], "PDBs/P32717_4PDX_A.pdb": [[101, 243]], "PDBs/P33012_1JYH_A.pdb": [[30, 134]], "PDBs/P33136_1TXK_A.pdb": [[64, 112], [64, 113], [82, 112], [82, 113]], "PDBs/P33590_1ZLQ_A.pdb": [[294, 407]], "PDBs/P33643_2IST_A.pdb": [[197, 253], [218, 316]], "PDBs/P33919_6JDE_B.pdb": [[152, 336]], "PDBs/P33937_2NYA_A.pdb": [[15, 164], [131, 529], [131, 533], [151, 352], [154, 352], [155, 352], [249, 648], [249, 650]], "PDBs/P34209_3CA8_A.pdb": [[50, 151]], "PDBs/P36979_3RFA_B.pdb": [[131, 314], [131, 319]], "PDBs/P37610_6EDH_A.pdb": [[104, 155], [104, 206], [191, 280]], "PDBs/P37747_1I8T_A.pdb": [[78, 285]], "PDBs/P38038_1DDG_A.pdb": [[467, 550], [470, 550]], "PDBs/P38051_3BZN_A.pdb": [[100, 368], [234, 368]], "PDBs/P39325_2VK2_A.pdb": [[150, 196]], "PDBs/P39346_6DKH_A.pdb": [[112, 292], [126, 343]], "PDBs/P45545_4J8L_A.pdb": [[63, 192], [195, 313], [198, 241]], "PDBs/P45799_1VHZ_B.pdb": [[77, 164]], "PDBs/P46852_1TQ5_A.pdb": [[90, 135]], "PDBs/P46883_2WGQ_B.pdb": [[123, 416], [223, 381], [230, 378]], "PDBs/P60932_6CB2_A.pdb": [[197, 245]], "PDBs/P63177_1GZ0_F.pdb": [[188, 241]], "PDBs/P69902_1PT8_A.pdb": [[29, 376], [29, 379], [61, 361], [61, 367]], "PDBs/P69908_1XEY_B.pdb": [[249, 331], [253, 339], [277, 339]], "PDBs/P69910_3FZ7_F.pdb": [[249, 331], [253, 339], [277, 339]], "PDBs/P75838_4Q86_B.pdb": [[82, 375], [158, 371], [159, 371]], "PDBs/P75876_3C0K_A.pdb": [[234, 338]], "PDBs/P76216_1YNH_D.pdb": [[204, 236]], "PDBs/P76290_4GEK_G.pdb": [[184, 233]], "PDBs/P76578_4ZIQ_A.pdb": [[1418, 1635]], "PDBs/P77044_1U2E_A.pdb": [[173, 237]], "PDBs/P77182_3AWI_A.pdb": [[352, 497], [389, 497], [393, 548], [399, 497]], "PDBs/P77215_2I5Q_B.pdb": [[185, 350]], "PDBs/P77243_1SZQ_A.pdb": [[79, 481]], "PDBs/P77348_4TOZ_A.pdb": [[337, 446]], "PDBs/P77444_6O11_A.pdb": [[12, 228]], "PDBs/P77454_1U60_B.pdb": [[98, 244]], "PDBs/P77674_1WND_A.pdb": [[271, 436]], "PDBs/P78067_3IPO_B.pdb": [[50, 147]], "PDBs/Q46925_5FT8_A.pdb": [[13, 224]], "PDBs/Q47537_6STL_A.pdb": [[133, 174]]};

            const stage = new NGL.Stage("viewport");

            const pdbSelect = document.getElementById("pdbSelect");
            const residueSelect = document.getElementById("residueSelect");

            // Populate PDB file dropdown
            Object.keys(pdbData).forEach(pdbFile => {
                const option = document.createElement("option");
                option.value = pdbFile;
                option.text = pdbFile;
                pdbSelect.appendChild(option);
            });

            pdbSelect.addEventListener("change", function (event) {
                const pdbFile = event.target.value;
                loadPdbFile(pdbFile);
            });

            residueSelect.addEventListener("change", function (event) {
                const index = parseInt(event.target.value);
                const pdbFile = pdbSelect.value;
                const [res1, res2] = pdbData[pdbFile][index];

                stage.eachComponent(function (component) {
                    component.removeAllRepresentations();
                    component.addRepresentation("cartoon");
                    component.addRepresentation("ball+stick", {
                        sele: `${res1}, ${res2}`,
                        color: "red"
                    });
                });
            });

            function loadPdbFile(pdbFile) {
                stage.removeAllComponents();
                stage.loadFile(pdbFile, { ext: "pdb" }).then(function (component) {
                    component.addRepresentation("cartoon");
                    stage.autoView();

                    // Populate residue pairs dropdown
                    residueSelect.innerHTML = '';
                    pdbData[pdbFile].forEach((pair, index) => {
                        const option = document.createElement("option");
                        option.value = index;
                        option.text = pair.join(" & ");
                        residueSelect.appendChild(option);
                    });
                });
            }

            // Load the first PDB file by default
            if (Object.keys(pdbData).length > 0) {
                loadPdbFile(Object.keys(pdbData)[0]);
            }
        </script>
    </body>
    </html>
        
